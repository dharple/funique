#!/usr/bin/php
<?php
/**
 * Given two directories, find what files are unique to one or the other
 * directory.
 *
 * Used to see what files have been removed (as opposed to simply being moved)
 * between two backups.
 *
 * Compares file contents.
 */

ini_set('memory_limit', '1G');

require dirname(__DIR__) . '/vendor/autoload.php';

use Symfony\Component\Console\Application;
use Funique\Command\FuniqueCommand;

try {
    $application = new Application('funique', '0.1.0');
    $application->setCatchExceptions(false);
    $command = new FuniqueCommand();
    $application->add($command);
    $application->setDefaultCommand($command->getName(), true);
    $application->run();
} catch (\Exception $e) {
    fprintf(STDERR, 'ERROR: ' . $e->getMessage() . "\n");
    exit(-2);
}

// vim:ai:cin:et:ts=4:sw=4:fo+=or
